
[Draft]

You can use simms for creating an empty Measurement Set (MS) using telsim
- to imulate into a visibility and Subtract from or add to a DATA column using skysim

### Basic Simulation

The simplest way to run a simulation:
```bash
skysim --ms smallvis.ms --catalogue skymodel.txt --column SIMULATED_DATA --sefd 421
```

Let's break down what this command does:
- `--ms smallvis.ms`: The measurement set where visibilities will be stored: You should alread have the MS created (e.g., using telsim)
- `--catalogue skymodel.txt`: Your source catalogue containing the sky model
- `--column SIMULATED_DATA`: The column where simulated visibilities will be written
- `--sefd 421`: Adds thermal noise based on this System Equivalent Flux Density (SEFD) value


### Common Use Cases

1. **Using PyBDSF Catalogue**:
If your source catalogue is generated by PyBDSF:
   ```bash
   skysim --ms smallvis.ms --catalogue pybdsf.txt --cat-species bdsf_gaul --column SIMULATED_DATA
   ```
   - `--cat-species` specifies the catalogue type. This automatically uses the correct mapping for PyBDSF catalogue. You have to specify `--cat-species` if its the catalogue is diffrent from the defualt. 
  
### Subtracting from or Adding to an Existing Column

You can subtract or add a simulated data (or any data you already have) from/to an existing column in the MS. 
**Steps:**
1. Simulate the data using the basic simulation command

   ```
2. **Add or Subtract to Existing Data**:
In these two cases, you'd only need to provide both columns (the one being added/subtracted and the one which you do that to/from). 

   ```bash
   skysim --ms smallvis.ms --sc SIMULATED_DATA --ic CORRECTED_DATA --column RESIDUALS --mode add 
   ```

   ```bash
   skysim --ms smallvis.ms --sc SIMULATED_DATA --ic CORRECTED_DATA --column RESIDUALS --mode subtract 
   ```
Where: 
- `-sc` - is simulated column (could be any column,... this is named assuming you'd be subtracting or adding the column you just simulated)
- `-ic` - is the input column you want to subtract/add from/to
- `column` in the add/subtract case is the column where your residuals will be saved at
- `mode:` specifies whether to add/subtract or simulate (the default is simulate: skysim will just simulate if mode is not specified)


