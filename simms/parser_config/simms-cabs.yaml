cabs:
  skysim:
    info: Create empty MS using simms
    command: skysim

    inputs:
      ms:
        info: Measurement set
        dtype: MS
        required: yes
        must_exist: no
      catalogue: 
        info: Catalogue file containing sources. A full description of accepted units can be found in the documentation.
        dtype: File
        required: yes
      cat-delim: 
        info: Delimeter that is used in the catalogue
        dtype: str
      column:
        info: Data column for simulation
        dtype: str
        default: MODEL_DATA

      cat-species:
        info: type of catalogue e.g. PyBDSF
        dtype: str
        required: no
        choices: ['bdsf_gaul', 'aegean']
      mode:
        info: Simulation mode. To create a new column use "sim"; to add to column use "add"; to subtract from column use "subtract".
        dtype: str
        default: sim
        choices: ['sim', 'add', 'subtract']
      die:
        info: Direction independent effects
        dtype: File
        required: no
      dde:
        info: Direction dependent effects
        dtype: File
        required: no
      mapping:
        info: File that specifies the names of columns that are expected vs the the names of the columns given in the catalogue
        dtype: File
        required: no
      outputs:
        {}

  telsim:
    info: Create empty MS using simms
    command: telsim
    inputs:
      ms:
        info: Observation name/id/label
        dtype: MS
        must_exist: no
        required: yes
        policies:
          positional: true
      telescope:
        info: Name of telescope you are simulating
        dtype: str
        required: yes
      direction:
        info: Direction of field centre for MS. Example, J2000,0h24m20s,-30d12m33s or J2000,0:24:20,-30:12:33
        dtype: str
        metavar: '[EPOCH,]RA,Dec'
        default: 'J2000,1h0m0s,-31d0m0s'
      starttime: 
        info: Observation start time. For example, 'UTC,05/02/2024,06:15:10' 
        metavar: '[TIME ZONE,][DD/MM/YYYY,],HH:MM:SS'
        dtype: str
      dtime:
        info: Integration/exposure time in seconds.
        dtype: float
        default: 9
      ntimes:
        info: Number of times slots for MS.
        dtype: int
        default: 10
      startfreq:
        info: Centre of first frequency channel/bin, e.g 0.55GHz. If given without units, Hertz are assumed.
        dtype: Union[str, float]
        default: 1420MHz
      dfreq:
        info: Channel width and units, e.g 2.4MHz. If given without units, Hertz are assumed.
        dtype: Union[str, float]
        default: 1MHz
      nchan:
        info: Number of frequency channels
        dtype: int
        default: 9
      correlations:
        info: Feed correlations for MS, e.g., 'XX, YY'
        dtype: List[str]
        policies:
          split: " "
        default:
          - XX
          - YY
      rowchunks:
        info: Number of chunks to divide the data into, larger number of chunks improves the computation speed
        dtype: int
        default: 50000
      addnoise:
        info: A tag to determine if noise should be added to the visibilities
        dtype: bool
        default: False
      column:
        info: The column in which to corrupt the visibilities with noise.
        dtype: str
        default: 'MODEL_DATA'
      sefd:
        info: Antenna SEFD (one value for all frequencies)
        dtype: float
        default: 551
      tsys_over_eta:
        info: Antenna system temperature over aperture efficiency (one value for all frequecies) 
        dtype: float
      sensitivity_file: 
        info: File with antenna spectral sensivity information. Allowed keys (column names) are 'freq, tsys, sefd, tsys_over_eta'
        dtype: File 
